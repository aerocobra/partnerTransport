<?xml version="1.0" encoding="utf-8"?>
<openerp>
	<data>
		<!-- search view-->
		<record model="ir.ui.view" id="partnerTransportTree_form">
			<field name="name">partnerTransportTree_form</field>
			<field name="model">res.partner</field>
			<field name="inherit_id" ref="base.view_partner_tree"/>
			<field name="arch" type="xml">
				<field name="display_name" position="after">
					<field name="parent_id" string = "Matriz"/>
				</field>
			</field>
		</record>
	</data>
	<data>
		<!-- search view-->
		<record model="ir.ui.view" id="partnerTransportSearch_form">
			<field name="name">partnerTransportSearch_form</field>
			<field name="model">res.partner</field>
			<field name="inherit_id" ref="base.view_res_partner_filter"/>
			<field name="arch" type="xml">
				<!-- replace default filters -->
				<xpath expr="/search/filter[@name='customer']" position="attributes">
					<attribute name="domain">"[('is_company','=', 1), ('customer','=',1)]"</attribute>
				</xpath>
				<filter name="supplier" position="attributes">
					<attribute name="domain">"[('is_company','=', 1), ('supplier','=',1)]"</attribute>
				</filter>
			</field>
		</record>
	</data>
	<data>
		<!-- For the form view and id field (whatever) -->
		<record model="ir.ui.view" id="partnerTransport_form">
			<!-- Name field (whatever) -->
			<field name="name">partnerTransport_form</field>
			<!-- Parent object -->
			<field name="model">res.partner</field>
			<!-- Parent View -->
			<field name="inherit_id" ref="base.view_partner_form"/>
			<!-- new structure in the form view -->
			<field name="arch" type="xml">
				<!-- new field x_eJobPosition in the form view -->
				<field name="function" position="after">
						<field name="x_eJobPosition" attrs="{'invisible': [('is_company','=', True)]}"/>
				</field>
				<!-- hide standard function field, x_eJobPosition instead-->
				<field name="function" position="attributes">
					<attribute name="invisible">True</attribute>
				</field>
				<!-- pop up funcion invisible-->
				<xpath expr="/form/sheet/notebook/page/field/form/sheet/group/group/field[@name='function']" position="after">
					<field name="x_eJobPosition"/>
				</xpath>
				<xpath expr="/form/sheet/notebook/page/field/form/sheet/group/group/field[@name='function']" position="attributes">
					<attribute name="invisible">True</attribute>
				</xpath>
				<field name="parent_id" position="attributes">
					<!--  to make always visible, hide original attrs="{'invisible': [('is_company','=', True),('parent_id', '=', False)]}" -->
					<attribute name="attrs"/>
					<!-- attribute name="attrs">{}</attribute -->
					<!-- attribute name="invisible">True</attribute -->
				</field>


				<!-- folders -->
				<notebook position="inside">
					<page string="Transport" attrs="{'invisible': [('is_company','!=', True)]}">
						<group col="6" colspan="2">
							<group string="Fleet">
								<field name="x_nTrucks"/>
								<field name="x_nTrailers"/>
								<field name="x_nRigidTrucks"/>
								<field name="x_nBuses"/>
								<field name="x_nContainers"/>
							</group>
							<group string="Countries">
								<field name="x_idsCountries" options="{'no_create': True}" domain="[('name', 'in', 'get_europe')]" nolabel="1" readonly="0">
									<tree string="Countries">
										<field name="code"/>
										<field name="name"/>
									</tree>
								</field>
							</group>
							<group string="Associations">
								<field name="x_idsAssociations" options="{'no_create': True}" nolabel="1">
									<tree>
										<field name="x_strAssociation"/>
									</tree>
								</field>
							</group>
						</group>
						<group col="6" colspan="2">
							<group string="Authorizations">
								<field name="x_idsAuthorizations" nolabel="1" readonly="0">
									<tree string="Authorizations">
										<field name="x_eAuthorization"/>
										<field name="x_nAuthorization"/>
									</tree>
									<form>
										<field name="x_eAuthorization"/>
										<field name="x_nAuthorization"/>
									</form>
								</field>
							</group>
							<group string="Transport sectors">
								<!-- label for="x_idsSectors"/ -->
								<field name="x_idsSectors" nolabel="1" readonly="0">
									<tree string="Sectors">
										<field name="x_eSector"/>
									</tree>
									<form string="Sectors">
										<group>
											<field name="x_eSector"/>
										</group>
									</form>
								</field>
							</group>
							<group string="Transport specialities">
								<field name="x_idsSpecialities" nolabel="1" readonly="0">
									<tree string="Specialities">
										<field name="x_eSpeciality"/>
									</tree>
									<form string="Specialities">
										<group>
											<field name="x_eSpeciality"/>
										</group>
									</form>
								</field>
							</group>
						</group>
						<group>
						</group>
					</page>
				</notebook>
			</field>
		</record>
    </data>
</openerp>